!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),"cjs"):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],function(e){t(e,"amd")}):t(CodeMirror,"plain")}(function(c,a){c.modeURL||(c.modeURL="../mode/%N/%N.js");var l={};function s(e,t){var n=c.modes[e].dependencies;if(!n)return t();for(var r=[],o=0;o<n.length;++o)c.modes.hasOwnProperty(n[o])||r.push(n[o]);if(!r.length)return t();var i,a,l,s=(i=t,a=r.length,l=a,function(){0==--l&&i()});for(o=0;o<r.length;++o)c.requireMode(r[o],s)}c.requireMode=function(e,t){if("string"!=typeof e&&(e=e.name),c.modes.hasOwnProperty(e))return s(e,t);if(l.hasOwnProperty(e))return l[e].push(t);var n=c.modeURL.replace(/%N/g,e);if("plain"==a){var r=document.createElement("script");r.src=n;var o=document.getElementsByTagName("script")[0],i=l[e]=[t];c.on(r,"load",function(){s(e,function(){for(var e=0;e<i.length;++e)i[e]()})}),o.parentNode.insertBefore(r,o)}else"cjs"==a?(require(n),t()):"amd"==a&&requirejs([n],t)},c.autoLoadMode=function(e,t){c.modes.hasOwnProperty(t)||c.requireMode(t,function(){e.setOption("mode",e.getOption("mode"))})}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(m){"use strict";m.multiplexingMode=function(f){var p=Array.prototype.slice.call(arguments,1);function v(e,t,n,r){if("string"==typeof t){var o=e.indexOf(t,n);return r&&-1<o?o+t.length:o}var i=t.exec(n?e.slice(n):e);return i?i.index+n+(r?i[0].length:0):-1}return{startState:function(){return{outer:m.startState(f),innerActive:null,inner:null}},copyState:function(e){return{outer:m.copyState(f,e.outer),innerActive:e.innerActive,inner:e.innerActive&&m.copyState(e.innerActive.mode,e.inner)}},token:function(e,t){if(t.innerActive){var n=t.innerActive;i=e.string;if(!n.close&&e.sol())return t.innerActive=t.inner=null,this.token(e,t);if((l=n.close?v(i,n.close,e.pos,n.parseDelimiters):-1)==e.pos&&!n.parseDelimiters)return e.match(n.close),t.innerActive=t.inner=null,n.delimStyle&&n.delimStyle+" "+n.delimStyle+"-close";-1<l&&(e.string=i.slice(0,l));var r=n.mode.token(e,t.inner);return-1<l&&(e.string=i),l==e.pos&&n.parseDelimiters&&(t.innerActive=t.inner=null),n.innerStyle&&(r=r?r+" "+n.innerStyle:n.innerStyle),r}for(var o=1/0,i=e.string,a=0;a<p.length;++a){var l,s=p[a];if((l=v(i,s.open,e.pos))==e.pos){s.parseDelimiters||e.match(s.open),t.innerActive=s;var c=0;if(f.indent){var u=f.indent(t.outer,"","");u!==m.Pass&&(c=u)}return t.inner=m.startState(s.mode,c),s.delimStyle&&s.delimStyle+" "+s.delimStyle+"-open"}-1!=l&&l<o&&(o=l)}o!=1/0&&(e.string=i.slice(0,o));var d=f.token(e,t.outer);return o!=1/0&&(e.string=i),d},indent:function(e,t,n){var r=e.innerActive?e.innerActive.mode:f;return r.indent?r.indent(e.innerActive?e.inner:e.outer,t,n):m.Pass},blankLine:function(e){var t=e.innerActive?e.innerActive.mode:f;if(t.blankLine&&t.blankLine(e.innerActive?e.inner:e.outer),e.innerActive)"\n"===e.innerActive.close&&(e.innerActive=e.inner=null);else for(var n=0;n<p.length;++n){var r=p[n];"\n"===r.open&&(e.innerActive=r,e.inner=m.startState(r.mode,t.indent?t.indent(e.outer,"",""):0))}},electricChars:f.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:f}}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(t){"use strict";t.overlayMode=function(r,o,i){return{startState:function(){return{base:t.startState(r),overlay:t.startState(o),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(e){return{base:t.copyState(r,e.base),overlay:t.copyState(o,e.overlay),basePos:e.basePos,baseCur:null,overlayPos:e.overlayPos,overlayCur:null}},token:function(e,t){return(e!=t.streamSeen||Math.min(t.basePos,t.overlayPos)<e.start)&&(t.streamSeen=e,t.basePos=t.overlayPos=e.start),e.start==t.basePos&&(t.baseCur=r.token(e,t.base),t.basePos=e.pos),e.start==t.overlayPos&&(e.pos=e.start,t.overlayCur=o.token(e,t.overlay),t.overlayPos=e.pos),e.pos=Math.min(t.basePos,t.overlayPos),null==t.overlayCur?t.baseCur:null!=t.baseCur&&t.overlay.combineTokens||i&&null==t.overlay.combineTokens?t.baseCur+" "+t.overlayCur:t.overlayCur},indent:r.indent&&function(e,t,n){return r.indent(e.base,t,n)},electricChars:r.electricChars,innerMode:function(e){return{state:e.base,mode:r}},blankLine:function(e){var t,n;return r.blankLine&&(t=r.blankLine(e.base)),o.blankLine&&(n=o.blankLine(e.overlay)),null==n?t:i&&null!=t?t+" "+n:n}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(y){"use strict";function h(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function s(e,t){if(!e)return/(?:)/;var n="";return e=e instanceof RegExp?(e.ignoreCase&&(n="i"),e.source):String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function g(e,t){(e.next||e.push)&&h(t,e.next||e.push),this.regex=s(e.regex),this.token=function(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}(e.token),this.data=e}function c(e,t){if(e===t)return 1;if(e&&"object"==typeof e&&t&&"object"==typeof t){var n=0;for(var r in e)if(e.hasOwnProperty(r)){if(!t.hasOwnProperty(r)||!c(e[r],t[r]))return;n++}for(var r in t)t.hasOwnProperty(r)&&n--;return 0==n}}function S(e,t,n,r){var o;if(n.persistent)for(var i=t.persistentStates;i&&!o;i=i.next)(n.spec?c(n.spec,i.spec):n.mode==i.mode)&&(o=i);var a=o?o.mode:n.mode||y.getMode(e,n.spec),l=o?o.state:y.startState(a);n.persistent&&!o&&(t.persistentStates={mode:a,spec:n.spec,state:l,next:t.persistentStates}),t.localState=l,t.local={mode:a,end:n.end&&s(n.end),endScan:n.end&&!1!==n.forceEnd&&s(n.end,!1),endToken:r&&r.join?r[r.length-1]:r}}y.defineSimpleMode=function(e,t){y.defineMode(e,function(e){return y.simpleMode(e,t)})},y.simpleMode=function(e,t){h(t,"start");var n={},r=t.meta||{},o=!1;for(var i in t)if(i!=r&&t.hasOwnProperty(i))for(var a=n[i]=[],l=t[i],s=0;s<l.length;s++){var c=l[s];a.push(new g(c,t)),(c.indent||c.dedent)&&(o=!0)}var u,d,f,p,v={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:o?[]:null}},copyState:function(e){var t={state:e.state,pending:e.pending,local:e.local,localState:null,indent:e.indent&&e.indent.slice(0)};e.localState&&(t.localState=y.copyState(e.local.mode,e.localState)),e.stack&&(t.stack=e.stack.slice(0));for(var n=e.persistentStates;n;n=n.next)t.persistentStates={mode:n.mode,spec:n.spec,state:n.state==e.localState?t.localState:y.copyState(n.mode,n.state),next:t.persistentStates};return t},token:(p=e,function(e,t){if(t.pending){var n=t.pending.shift();return 0==t.pending.length&&(t.pending=null),e.pos+=n.text.length,n.token}if(t.local){if(t.local.end&&e.match(t.local.end)){var r=t.local.endToken||null;return t.local=t.localState=null,r}var o;return r=t.local.mode.token(e,t.localState),t.local.endScan&&(o=t.local.endScan.exec(e.current()))&&(e.pos=e.start+o.index),r}for(var i=f[t.state],a=0;a<i.length;a++){var l=i[a],s=(!l.data.sol||e.sol())&&e.match(l.regex);if(s){l.data.next?t.state=l.data.next:l.data.push?((t.stack||(t.stack=[])).push(t.state),t.state=l.data.push):l.data.pop&&t.stack&&t.stack.length&&(t.state=t.stack.pop()),l.data.mode&&S(p,t,l.data.mode,l.token),l.data.indent&&t.indent.push(e.indentation()+p.indentUnit),l.data.dedent&&t.indent.pop();var c=l.token;if(c&&c.apply&&(c=c(s)),2<s.length&&l.token&&"string"!=typeof l.token){t.pending=[];for(var u=2;u<s.length;u++)s[u]&&t.pending.push({text:s[u],token:l.token[u-1]});return e.backUp(s[0].length-(s[1]?s[1].length:0)),c[0]}return c&&c.join?c[0]:c}}return e.next(),null}),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:(u=f=n,function(e,t,n){if(e.local&&e.local.mode.indent)return e.local.mode.indent(e.localState,t,n);if(null==e.indent||e.local||d.dontIndentStates&&-1<function(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}(e.state,d.dontIndentStates))return y.Pass;var r=e.indent.length-1,o=u[e.state];e:for(;;){for(var i=0;i<o.length;i++){var a=o[i];if(a.data.dedent&&!1!==a.data.dedentIfLineStart){var l=a.regex.exec(t);if(l&&l[0]){r--,(a.next||a.push)&&(o=u[a.next||a.push]),t=t.slice(l[0].length);continue e}}}break}return r<0?0:e.indent[r]})};if(d=r)for(var m in r)r.hasOwnProperty(m)&&(v[m]=r[m]);return v}});